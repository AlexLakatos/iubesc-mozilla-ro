(function(r,p,n,s,x){var w=r(s),u="waypoint.reached",z=function(a,b){a.element.trigger(u,b);if(a.options.triggerOnce){a.element[p]("destroy")}},t=function(a,b){if(!b){return -1}var c=b.waypoints.length-1;while(c>=0&&b.waypoints[c].element[0]!==a[0]){c-=1}return c},v=[],o=function(a){r.extend(this,{element:r(a),oldScroll:0,waypoints:[],didScroll:false,didResize:false,doScroll:r.proxy(function(){var d=this.element.scrollTop(),e=d>this.oldScroll,b=this,c=r.grep(this.waypoints,function(g,h){return e?(g.offset>b.oldScroll&&g.offset<=d):(g.offset<=b.oldScroll&&g.offset>d)}),f=c.length;if(!this.oldScroll||!d){r[n]("refresh")}this.oldScroll=d;if(!f){return}if(!e){c.reverse()}r.each(c,function(g,h){if(h.options.continuous||g===f-1){z(h,[e?"down":"up"])}})},this)});r(a).bind("scroll.waypoints",r.proxy(function(){if(!this.didScroll){this.didScroll=true;s.setTimeout(r.proxy(function(){this.doScroll();this.didScroll=false},this),r[n].settings.scrollThrottle)}},this)).bind("resize.waypoints",r.proxy(function(){if(!this.didResize){this.didResize=true;s.setTimeout(r.proxy(function(){r[n]("refresh");this.didResize=false},this),r[n].settings.resizeThrottle)}},this));w.load(r.proxy(function(){this.doScroll()},this))},q=function(b){var a=null;r.each(v,function(d,c){if(c.element[0]===b){a=c;return false}});return a},y={init:function(a,b){this.each(function(){var c=r.fn[p].defaults.context,g,d=r(this);if(b&&b.context){c=b.context}if(!r.isWindow(c)){c=d.closest(c)[0]}g=q(c);if(!g){g=new o(c);v.push(g)}var h=t(d,g),e=h<0?r.fn[p].defaults:g.waypoints[h].options,f=r.extend({},e,b);f.offset=f.offset==="bottom-in-view"?function(){var i=r.isWindow(c)?r[n]("viewportHeight"):r(c).height();return i-r(this).outerHeight()}:f.offset;if(h<0){g.waypoints.push({element:d,offset:null,options:f})}else{g.waypoints[h].options=f}if(a){d.bind(u,a)}if(b&&b.handler){d.bind(u,b.handler)}});r[n]("refresh");return this},remove:function(){return this.each(function(b,a){var c=r(a);r.each(v,function(e,d){var f=t(c,d);if(f>=0){d.waypoints.splice(f,1);if(!d.waypoints.length){d.element.unbind("scroll.waypoints resize.waypoints");v.splice(e,1)}}})})},destroy:function(){return this.unbind(u)[p]("remove")}},A={refresh:function(){r.each(v,function(b,a){var c=r.isWindow(a.element[0]),f=c?0:a.element.offset().top,d=c?r[n]("viewportHeight"):a.element.height(),e=c?0:a.element.scrollTop();r.each(a.waypoints,function(j,g){if(!g){return}var k=g.options.offset,h=g.offset;if(typeof g.options.offset==="function"){k=g.options.offset.apply(g.element)}else{if(typeof g.options.offset==="string"){var i=parseFloat(g.options.offset);k=g.options.offset.indexOf("%")?Math.ceil(d*(i/100)):i}}g.offset=g.element.offset().top-f+e-k;if(g.options.onlyOnScroll){return}if(h!==null&&a.oldScroll>h&&a.oldScroll<=g.offset){z(g,["up"])}else{if(h!==null&&a.oldScroll<h&&a.oldScroll>=g.offset){z(g,["down"])}else{if(!h&&a.element.scrollTop()>g.offset){z(g,["down"])}}}});a.waypoints.sort(function(g,h){return g.offset-h.offset})})},viewportHeight:function(){return(s.innerHeight?s.innerHeight:w.height())},aggregate:function(){var a=r();r.each(v,function(c,b){r.each(b.waypoints,function(e,d){a=a.add(d.element)})});return a}};r.fn[p]=function(a){if(y[a]){return y[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="function"||!a){return y.init.apply(this,arguments)}else{if(typeof a==="object"){return y.init.apply(this,[null,a])}else{r.error("Method "+a+" does not exist on jQuery "+p)}}}};r.fn[p].defaults={continuous:true,offset:0,triggerOnce:false,context:s};r[n]=function(a){if(A[a]){return A[a].apply(this)}else{return A.aggregate()}};r[n].settings={resizeThrottle:200,scrollThrottle:100};w.load(function(){r[n]("refresh")})})(jQuery,"waypoint","waypoints",window);(function(f,o){var b=f(window);var e=f(document);var l=f("#page-nav");var i=f("#masthead");var m=i.height()+10;var a=false;var h=false;var d=1000;b.scroll(function(){h=true;if(b.scrollTop()>=1){i.addClass("fixed")}});e.ready(function(){h=b.scrollTop()>0});function n(){if(h){h=false;var p=b.scrollTop();if(p>0){if(!a){a=true;i.addClass("fixed")}}else{if(a){a=false;i.removeClass("fixed");l.find("li.current").removeClass("current")}}}}setInterval(n,100);function j(q,p){return function(r,s){if(a){if(s==="down"){l.attr("class","fixed "+q);l.find("li.current").removeClass("current");f("#"+q).addClass("current")}else{l.attr("class","fixed "+p);l.find("li.current").removeClass("current");f("#"+p).addClass("current")}}}}f("#intro").waypoint(j("",""),{offset:m});f("#about").waypoint(j("nav-about",""),{offset:m});f("#winners2012").waypoint(j("nav-winners","nav-about"),{offset:m});f("#judges").waypoint(j("nav-judges","nav-winners"),{offset:m});f("#prizes").waypoint(j("nav-prizes","nav-judges"),{offset:m});f("#rules").waypoint(j("nav-rules","nav-prizes"),{offset:m});b.on("click",'#page-nav a[href*="#"], a.scroll',function(r){r.preventDefault();var q=f(this).attr("href").replace(/.*?(#.*)/g,"$1");var p=Math.abs(f(q).offset().top-e.scrollTop());if(p>1200){d=2500}else{d=1000}f("html, body").animate({scrollTop:f(q).offset().top},d,function(){f(q).attr("tabindex","100").focus().removeAttr("tabindex")})});f("a.video-play").click(function(p){p.preventDefault();c(this,f(this).data("vimeoId"))});function c(p,r){var q='<iframe id="video" src="https://player.vimeo.com/video/'+r+'?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff&amp;autoplay=1" width="600" height="338" frameborder="0"></iframe>';return k(p,q)}function k(p,r){f("#modal").remove();f(".modalOrigin").removeClass("modalOrigin");var q=('<div id="modal">  <div class="inner">    <button type="button" class="close">      '+o("close")+"    </button>  </div></div>");f("body").addClass("noscroll").append(q);f("#modal .inner").append(r);f(p).addClass("modalOrigin")}function g(){f("#modal").remove();f("body").removeClass("noscroll");f(".modalOrigin").focus().remove("modalOrigin")}e.on("click","#modal .close",g);e.on("click","#modal, #modal .inner",g);e.on("keyup",function(p){if(p.keyCode===27){g()}})})(jQuery,trans);